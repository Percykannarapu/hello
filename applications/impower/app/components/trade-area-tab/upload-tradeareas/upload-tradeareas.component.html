<div class="ui-g">
    <div class="ui-g-12">
      <div class="ui-g-12">
        <div class="ui-g-3">
          <label>Define for:</label>
        </div>
        <div class="ui-g-3">
          <p-radioButton name="uploadListType1" value="Site" label="Sites" [(ngModel)]="listType1"></p-radioButton>
        </div>
        <div class="ui-g-3">
          <p-radioButton name="uploadListType1" value="Competitor" label="Competitors" [(ngModel)]="listType1"></p-radioButton>
        </div>
      </div>
      <div class="ui-g-12" *ngIf="isCustomTAExists">
          <div class="ui-g-3" style="margin-top: -15px;margin-bottom:-10px;">
             <div  class="warning-label" >
                Custom Trade Area Exists
              </div>
          </div>
      </div>
      <div class="ui-g-12">
        <div class="ui-g-3">
          <p-fileUpload #tradeAreaUpload mode="basic" class="file-upload-align" name="data[]" accept=".csv,.xlsx,.xls" chooseLabel="Select File" [disabled]="!(currentAnalysisLevel$ | async)"
                        pTooltip="CSV or Excel format required: Site #, Geocode" [customUpload]="true" (uploadHandler)="onUploadClick($event)" [auto]="true">
          </p-fileUpload>
        </div>
        <div class="ui-g-3">
          <button pButton type="button" label="Delete Custom TA"  [disabled]="!isCustomTAExists" (click)="deleteCustomTradeArea()" ></button>
       </div>
       <div class="ui-g-6"></div>
      </div>
      <div class="ui-g-12">
        <div *ngIf="!(currentAnalysisLevel$ | async)" class="warning-label" >
          Please select an Analysis Level before uploading a custom trade area
        </div>
      </div>
    </div>
    <div>
        <p-confirmDialog icon="pi pi-exclamation-triangle" key="delete" appendTo="body"></p-confirmDialog>
    </div>
    <div *ngIf="uploadFailures.length > 0" class="ui-g-7">
      <p-table [value]="uploadFailures" [paginator]="true" [rows]="5">
        <ng-template pTemplate="caption">
          <div>
            Detected {{(uploadFailures.length) || 0}} {{currentAnalysisLevel$ | async}} upload failures out of {{totalUploadedRowCount}} rows
          </div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th>Geocode</th>
            <th>Number</th>
            <th>Status</th>
            <th>Resubmit</th>
            <th>Remove</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData>
          <tr>
            <td pEditableColumn>
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <input pInputText type="text" [(ngModel)]="rowData.geocode">
                </ng-template>
                <ng-template pTemplate="output">
                  {{rowData.geocode}}
                </ng-template>
              </p-cellEditor>
            </td>
            <td pEditableColumn>
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <input pInputText type="text" [(ngModel)]="rowData.store">
                </ng-template>
                <ng-template pTemplate="output">
                  {{rowData.store}}
                </ng-template>
              </p-cellEditor>
            </td>
            <td>
              {{rowData.message}}
            </td>
            <td>
              <div class="val-centered">
                <button (click)="onResubmit(rowData)" icon="ui-icon-refresh" pButton style="margin: auto; display: block; width:25px;height:25px"></button>
              </div>
            </td>
            <td>
              <div class="val-centered">
                <button (click)="onRemove(rowData)" icon="ui-icon-delete" pButton style="margin: auto; display: block; width:25px;height:25px"></button>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
