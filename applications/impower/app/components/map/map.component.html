<p-panel header="Map" styleClass="val-no-content-padding" expandIcon="pi pi-chevron-down" collapseIcon="pi pi-chevron-up" [toggleable]="true" [transitionOptions]="'0ms'">
  <div id="outerMapDiv">
    <val-esri-map-panel [mapHeight]="mapHeight$ | async" baseMap="streets-vector"
                        (viewChanged)="onViewExtentChanged($event)" (selectedButton)="fnSelectedButton($event)"
                        [showLabelConfigButton]="false" [toolbarButtons]="toolbarButtons" [showAlternateZoomChoice]="true">
      <additional-toolbar-buttons>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <button  label="Clear All"  pButton class="p-button-outlined" (click)="onClearSelections()"  title="Clear All Selections"></button>
        &nbsp;
        <button  label="Revert"     pButton class="p-button-outlined" (click)="onRevert()"   title="Revert to Trade Area" ></button>
        &nbsp;
        <button  label="Zoom to TA" pButton class="p-button-outlined" (click)="onZoom()"  title="Zoom to TA"></button>
        &nbsp;&nbsp;
      </additional-toolbar-buttons>
      <additional-toolbar-group>
        <div class="p-col-12 analysis-wrapper">
          <div *ngIf="currentAnalysisLevel$ | async as currentAnalysisLevel; else noAnalysisLevel">
            <strong>Analysis Level = {{currentAnalysisLevel}}</strong>
          </div>
          <ng-template #noAnalysisLevel>
            <div><strong>No Analysis Level Selected</strong></div>
          </ng-template>
        </div>
      </additional-toolbar-group>
    </val-esri-map-panel>
  </div>
</p-panel>
