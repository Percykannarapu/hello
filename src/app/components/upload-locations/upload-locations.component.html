<div class="ui-g">
  <div class="ui-g-5">
    <div class="ui-g-12">
      <div class="ui-g-3">
        <label>Add as:</label>
      </div>
      <div class="ui-g-3">
        <p-radioButton name="uploadListType" value="Site" label="Sites" [(ngModel)]="listType"></p-radioButton>
      </div>
      <div class="ui-g-5">
        <p-radioButton name="uploadListType" value="Competitor" label="Competitors" [(ngModel)]="listType"></p-radioButton>
      </div>
    </div>
    <div class="ui-g-12">
      <div class="ui-g-12">
        <p-fileUpload #fileUpload mode="basic" class="file-upload-align" name="data[]" accept=".csv,.xlsx,.xls" chooseLabel="Select File"
                      pTooltip="CSV or Excel format required" [customUpload]="true" (uploadHandler)="uploadFile($event)" [auto]="true">
        </p-fileUpload>
      </div>
      <div class="ui-g-12">
        <a target="_self" href="./assets/sample/sample.csv" [download]="'Sample.csv'">Sample Upload template</a>
      </div>
    </div>
  </div>
  <div *ngIf="geocodingService.hasFailures$ | async" class="ui-g-7">
    <p-dataTable [value]="geocodingService.geocodingFailures$ | async" [rows]="5" [paginator]="true" [editable]="true" [immutable]="false">
      <p-header>Detected {{(geocodingService.failureCount$ | async) || 0}} geocoding failures</p-header>
      <p-column field="Number" [hidden]="true"></p-column>
      <p-column field="Original Address" header="Street" [editable]="true"></p-column>
      <p-column field="Original City" header="City" [editable]="true"></p-column>
      <p-column field="Original State" header="State" [editable]="true"></p-column>
      <p-column field="Original ZIP" header="ZIP" [editable]="true"></p-column>
      <p-column field="Geocode Status" header="Status" [editable]="true"></p-column>
      <p-column header="Resubmit">
        <ng-template let-h="rowData" pTemplate="body">
          <button (click)="onResubmit(h)" icon="ui-icon-refresh" pButton style="margin: auto; display: block"></button>
        </ng-template>
      </p-column>
      <p-column header="Remove">
        <ng-template let-h="rowData" pTemplate="body">
          <button (click)="onRemove(h)" icon="ui-icon-delete" pButton style="margin: auto; display: block"></button>
        </ng-template>
      </p-column>
    </p-dataTable>
  </div>

  <!-- Modal window for GP spinner -->
  <div class="ui-g ui-fluid">
    <p-dialog [closable]="true" header="{{displaySpinnerMessage}}" [(visible)]="displayGcSpinner" [contentStyle]="{'overflow':'visible'}"
      width="300">
      <div class="ui-g-3"></div>
      <div class="ui-g-5">
        <p-progressSpinner></p-progressSpinner>
      </div>
      <div class="ui-g-4"></div>
    </p-dialog>
  </div>
</div>
